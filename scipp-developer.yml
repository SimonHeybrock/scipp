# This is used for incremental CI builds and local development.
# All dependencies should be installed here (i.e. the union of build, run, test and documentation build dependencies).
# See https://scipp.github.io/developer/dependencies.html

name: test

channels:
  - conda-forge

dependencies:
  # Build
  - ninja=1.10.*
  - tbb-devel=2021.3.*
  - conan=1.41.*
  - cmake=3.21.*
  - pip=21.3.*
  - gxx_linux-64 11.1.*

  # Run
  - appdirs
  - ipykernel = 6.3.1  # issue with pythreejs 3d plotting
  - ipympl=0.8.*
  - ipywidgets=7.6.*
  - matplotlib-base=3.4.*
  - numpy=1.21.*
  - python=3.7.10
  - python-configuration
  - pythreejs=2.3.*
  - pyyaml
  - tbb=2021.3.*

  # Test
  - h5py=3.4.*
  - pytest=6.2.*
  - python-graphviz
  - xarray  # For testing xarray <-> scipp conversion
  - pandas  # For testing pandas <-> scipp conversion
  - scipy=1.7.*

  # Formatting & static analysis
  - pre-commit
  - yapf
  - flake8

  # Docs
  - pandoc
  - sphinx
  - sphinx_rtd_theme=0.5.2 # 1.0.0 broken CSS?
  - nbsphinx
  - docutils=0.16 # see https://github.com/spatialaudio/nbsphinx/issues/549
